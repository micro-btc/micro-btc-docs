# Multi-Script Addresses

Multi-script addresses are addresses that allow the creator to specify one or more custom spending conditions. Each of these conditions is only revealed once it is activated.

## Library Imports

```typescript
import * as btc from 'micro-btc-signer'
import { hex } from '@scure/base' 
```

## Keys for Testing

```typescript
const keySets = [
  { schnorrPub: hex.decode('1212121212121212121212121212121212121212121212121212121212121212') },
  { schnorrPub: hex.decode('2323232323232323232323232323232323232323232323232323232323232323') },
  { schnorrPub: hex.decode('3434343434343434343434343434343434343434343434343434343434343434') }
  { schnorrPub: hex.decode('4545454545454545454545454545454545454545454545454545454545454545') }
  { schnorrPub: hex.decode('5656565656565656565656565656565656565656565656565656565656565656') }
]
```

## Taproot Key & Script Tree: A or (B&C)

### Code

```typescript
const leafScriptInfo = btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub])
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const script = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
202323232323232323232323232323232323232323232323232323232323232323ad203434343434343434343434343434343434343434343434343434343434343434ac
> console.log(script)
5120e1380ce59569abcf456b807a06adcdfd69bab6917d2e4c9e0cb8abee1b74ebfd
> console.log(address)
bc1puyuqeev4dx4u73ttspaqdtwdl45m4d5305hye8svhz47uxm5a07sl7ryvv
```

## Taproot Key & Script Tree: A or (B&C) or (D&E)

### Code

```typescript
const leafScriptInfo = [
  btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub])[0],
  btc.p2tr_ns(2, [keySets[3].schnorrPub, keySets[4].schnorrPub])[0]
]
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const script = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
202323232323232323232323232323232323232323232323232323232323232323ad203434343434343434343434343434343434343434343434343434343434343434ac
204545454545454545454545454545454545454545454545454545454545454545ad205656565656565656565656565656565656565656565656565656565656565656ac
> console.log(script)
5120d54c0edabe6623b4f301c9d9f872a20a1c236aa8a29c9dcd7107e6ec322af27a
> console.log(address)
bc1p64xqak47vc3mfucpe8vlsu4zpgwzx64g52wfmnt3qlnwcv327faq7lt5fv
```
