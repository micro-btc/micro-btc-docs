# Multi-Script Addresses

Multi-script addresses are addresses that allow the creator to specify one or more custom spending conditions. Each of these conditions is only revealed once it is activated.

## Library Imports

```typescript
import * as btc from 'micro-btc-signer'
import { hex } from '@scure/base' 
```

## Keys for Testing

```typescript
const keySets = [
  { schnorrPub: hex.decode('1212121212121212121212121212121212121212121212121212121212121212') },
  { schnorrPub: hex.decode('2323232323232323232323232323232323232323232323232323232323232323') },
  { schnorrPub: hex.decode('3434343434343434343434343434343434343434343434343434343434343434') }
  { schnorrPub: hex.decode('4545454545454545454545454545454545454545454545454545454545454545') }
  { schnorrPub: hex.decode('5656565656565656565656565656565656565656565656565656565656565656') }
]
```

## Taproot Key and Script Tree: A or BC

### Code

```typescript
const leafScriptInfo = btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub])
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const script = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
202323232323232323232323232323232323232323232323232323232323232323ad203434343434343434343434343434343434343434343434343434343434343434ac
> console.log(script)
5120e1380ce59569abcf456b807a06adcdfd69bab6917d2e4c9e0cb8abee1b74ebfd
> console.log(address)
bc1puyuqeev4dx4u73ttspaqdtwdl45m4d5305hye8svhz47uxm5a07sl7ryvv
```

## Taproot Key and Script Tree: A or BC or BD or BE or CDE

### Code

```typescript
const leafScriptInfo = [
  btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub])[0],
  btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[3].schnorrPub])[0],
  btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[4].schnorrPub])[0],
  btc.p2tr_ns(3, [keySets[2].schnorrPub, keySets[3].schnorrPub, keySets[4].schnorrPub])[0],
]
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const rootScript = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
202323232323232323232323232323232323232323232323232323232323232323ad203434343434343434343434343434343434343434343434343434343434343434ac
202323232323232323232323232323232323232323232323232323232323232323ad204545454545454545454545454545454545454545454545454545454545454545ac
202323232323232323232323232323232323232323232323232323232323232323ad205656565656565656565656565656565656565656565656565656565656565656ac
203434343434343434343434343434343434343434343434343434343434343434ad204545454545454545454545454545454545454545454545454545454545454545ad205656565656565656565656565656565656565656565656565656565656565656ac
> console.log(rootScript)
5120ebbd89271403200c37937847bf3823b5d0e6c7961a681057d06899c97085c933
> console.log(address)
bc1paw7cjfc5qvsqcdun0prm7wprkhgwd3ukrf5pq47sdzvujuy9eyesd24q70
```
