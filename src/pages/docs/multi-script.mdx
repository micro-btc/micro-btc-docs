# Multi-Script Addresses

## Library Imports

```typescript
import * as btc from 'micro-btc-signer'
import * as secp from '@noble/secp256k1'
import { hex } from '@scure/base' 
```

## Keys for Testing

```typescript
const keySets = [
  { schnorrPub: hex.decode('0101010101010101010101010101010101010101010101010101010101010101') },
  { schnorrPub: hex.decode('0202020202020202020202020202020202020202020202020202020202020202') },
  { schnorrPub: hex.decode('0303030303030303030303030303030303030303030303030303030303030303') }
  { schnorrPub: hex.decode('0404040404040404040404040404040404040404040404040404040404040404') }
]
```

## Taproot Key & Script Tree: A or (B&C)

### Code

```typescript
const leafScriptInfo = btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub])
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const script = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
-
> console.log(script)
51202b4df29fb01b0850312697372cba575709403f8803256c718e3956f690772135
> console.log(address)
bc1p9dxl98asrvy9qvfxjumjewjh2uy5q0ugqvjkcuvw89t0dyrhyy6swy6yc8
```

## Taproot Key & Script Tree: A or (B&C) or (B&D) or (C&D)

### Code

```typescript
const leafScriptInfo = btc.p2tr_ns(2, [keySets[1].schnorrPub, keySets[2].schnorrPub, keySets[3].schnorrPub])
const scriptInfo = btc.p2tr(keySets[0].schnorrPub, leafScriptInfo)

const leafScripts = leafScriptInfo.map(s => hex.encode(s.script))
const script = hex.encode(scriptInfo.script)
const address = scriptInfo.address
```

### Console

```typescript
> leafScripts.map(s => console.log(s))
-
> console.log(script)
51202b4df29fb01b0850312697372cba575709403f8803256c718e3956f690772135
> console.log(address)
bc1p9dxl98asrvy9qvfxjumjewjh2uy5q0ugqvjkcuvw89t0dyrhyy6swy6yc8
```
